/*!
 * SmartWizard v4.3.1
 * The awesome jQuery step wizard plugin with Bootstrap support
 * http://www.techlaboratory.net/smartwizard
 *
 * Created by Dipu Raj
 * http://dipuraj.me
 *
 * Licensed under the terms of the MIT License
 * https://github.com/techlab/SmartWizard/blob/master/LICENSE
 */
(function(n,t,i,r){"use strict";function u(t,i){this.options=n.extend(!0,{},f,i);this.main=n(t);this.nav=this.main.children("ul");this.steps=n("li > a",this.nav);this.container=this.main.children("div");this.pages=this.container.children("div");this.current_index=null;this.options.toolbarSettings.toolbarButtonPosition=this.options.toolbarSettings.toolbarButtonPosition==="right"?"end":this.options.toolbarSettings.toolbarButtonPosition;this.options.toolbarSettings.toolbarButtonPosition=this.options.toolbarSettings.toolbarButtonPosition==="left"?"start":this.options.toolbarSettings.toolbarButtonPosition;this.options.theme=this.options.theme===null||this.options.theme===""?"default":this.options.theme;this.init()}var f={selected:0,keyNavigation:!0,autoAdjustHeight:!0,cycleSteps:!1,backButtonSupport:!0,useURLhash:!0,showStepURLhash:!0,lang:{next:"Next",previous:"Previous"},toolbarSettings:{toolbarPosition:"bottom",toolbarButtonPosition:"end",showNextButton:!0,showPreviousButton:!0,toolbarExtraButtons:[]},anchorSettings:{anchorClickable:!0,enableAllAnchors:!1,markDoneStep:!0,markAllPreviousStepsAsDone:!0,removeDoneStepOnNavigateBack:!1,enableAnchorOnDoneStep:!0},contentURL:null,contentCache:!0,ajaxSettings:{},disabledSteps:[],errorSteps:[],hiddenSteps:[],theme:"default",transitionEffect:"none",transitionSpeed:"400"};n.extend(u.prototype,{init:function(){var i,r,u,f;this._setElements();this._setToolbar();this._setEvents();i=this.options.selected;this.options.useURLhash&&(r=t.location.hash,r&&r.length>0&&(u=n("a[href*='"+r+"']",this.nav),u.length>0&&(f=this.steps.index(u),i=f>=0?f:i)));i>0&&this.options.anchorSettings.markDoneStep&&this.options.anchorSettings.markAllPreviousStepsAsDone&&this.steps.eq(i).parent("li").prevAll().addClass("done");this._showStep(i)},_setElements:function(){this.main.addClass("sw-main sw-theme-"+this.options.theme);this.nav.addClass("nav nav-tabs step-anchor").children("li").addClass("nav-item").children("a").addClass("nav-link");this.options.anchorSettings.enableAllAnchors!==!1&&this.options.anchorSettings.anchorClickable!==!1&&this.steps.parent("li").addClass("clickable");this.container.addClass("sw-container tab-content");this.pages.addClass("tab-pane step-content");var t=this;return this.options.disabledSteps&&this.options.disabledSteps.length>0&&n.each(this.options.disabledSteps,function(n,i){t.steps.eq(i).parent("li").addClass("disabled")}),this.options.errorSteps&&this.options.errorSteps.length>0&&n.each(this.options.errorSteps,function(n,i){t.steps.eq(i).parent("li").addClass("danger")}),this.options.hiddenSteps&&this.options.hiddenSteps.length>0&&n.each(this.options.hiddenSteps,function(n,i){t.steps.eq(i).parent("li").addClass("hidden")}),!0},_setToolbar:function(){var r,t;if(this.options.toolbarSettings.toolbarPosition==="none")return!0;var f=this.options.toolbarSettings.showNextButton!==!1?n("<button><\/button>").text(this.options.lang.next).addClass("btn btn-secondary sw-btn-next").attr("type","button"):null,e=this.options.toolbarSettings.showPreviousButton!==!1?n("<button><\/button>").text(this.options.lang.previous).addClass("btn btn-secondary sw-btn-prev").attr("type","button"):null,u=n("<div><\/div>").addClass("btn-group mr-2 sw-btn-group").attr("role","group").append(e,f),i=null;this.options.toolbarSettings.toolbarExtraButtons&&this.options.toolbarSettings.toolbarExtraButtons.length>0&&(i=n("<div><\/div>").addClass("btn-group mr-2 sw-btn-group-extra").attr("role","group"),n.each(this.options.toolbarSettings.toolbarExtraButtons,function(n,t){i.append(t.clone(!0))}));switch(this.options.toolbarSettings.toolbarPosition){case"top":r=n("<div><\/div>").addClass("btn-toolbar sw-toolbar sw-toolbar-top justify-content-"+this.options.toolbarSettings.toolbarButtonPosition);r.append(u);this.options.toolbarSettings.toolbarButtonPosition==="start"?r.prepend(i):r.append(i);this.container.before(r);break;case"bottom":t=n("<div><\/div>").addClass("btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-"+this.options.toolbarSettings.toolbarButtonPosition);t.append(u);this.options.toolbarSettings.toolbarButtonPosition==="start"?t.prepend(i):t.append(i);this.container.after(t);break;case"both":r=n("<div><\/div>").addClass("btn-toolbar sw-toolbar sw-toolbar-top justify-content-"+this.options.toolbarSettings.toolbarButtonPosition);r.append(u);this.options.toolbarSettings.toolbarButtonPosition==="start"?r.prepend(i):r.append(i);this.container.before(r);t=n("<div><\/div>").addClass("btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-"+this.options.toolbarSettings.toolbarButtonPosition);t.append(u.clone(!0));i!==null&&(this.options.toolbarSettings.toolbarButtonPosition==="start"?t.prepend(i.clone(!0)):t.append(i.clone(!0)));this.container.after(t);break;default:t=n("<div><\/div>").addClass("btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-"+this.options.toolbarSettings.toolbarButtonPosition);t.append(u);this.options.toolbarSettings.toolbarButtonPosition==="start"?t.append(i):t.append(i);this.container.after(t)}return!0},_setEvents:function(){var r=this;n(this.steps).on("click",function(n){if(n.preventDefault(),r.options.anchorSettings.anchorClickable===!1)return!0;var t=r.steps.index(this);if(r.options.anchorSettings.enableAnchorOnDoneStep===!1&&r.steps.eq(t).parent("li").hasClass("done"))return!0;t!==r.current_index&&(r.options.anchorSettings.enableAllAnchors!==!1&&r.options.anchorSettings.anchorClickable!==!1?r._showStep(t):r.steps.eq(t).parent("li").hasClass("done")&&r._showStep(t))});n(".sw-btn-next",this.main).on("click",function(n){n.preventDefault();r._showNext()});n(".sw-btn-prev",this.main).on("click",function(n){n.preventDefault();r._showPrevious()});if(this.options.keyNavigation&&n(i).keyup(function(n){r._keyNav(n)}),this.options.backButtonSupport)n(t).on("hashchange",function(i){if(!r.options.useURLhash)return!0;if(t.location.hash){var u=n("a[href*='"+t.location.hash+"']",r.nav);u&&u.length>0&&(i.preventDefault(),r._showStep(r.steps.index(u)))}});return!0},_showNext:function(){for(var n=this.current_index+1,t=n;t<this.steps.length;t++)if(!this.steps.eq(t).parent("li").hasClass("disabled")&&!this.steps.eq(t).parent("li").hasClass("hidden")){n=t;break}if(this.steps.length<=n){if(!this.options.cycleSteps)return!1;n=0}return this._showStep(n),!0},_showPrevious:function(){for(var n=this.current_index-1,t=n;t>=0;t--)if(!this.steps.eq(t).parent("li").hasClass("disabled")&&!this.steps.eq(t).parent("li").hasClass("hidden")){n=t;break}if(0>n){if(!this.options.cycleSteps)return!1;n=this.steps.length-1}return this._showStep(n),!0},_showStep:function(n){return this.steps.eq(n)?n==this.current_index?!1:this.steps.eq(n).parent("li").hasClass("disabled")||this.steps.eq(n).parent("li").hasClass("hidden")?!1:(this._loadStepContent(n),!0):!1},_loadStepContent:function(t){var r=this,s=this.steps.eq(this.current_index),f="",i=this.steps.eq(t),u=i.data("content-url")&&i.data("content-url").length>0?i.data("content-url"):this.options.contentURL,e,o;return(this.current_index!==null&&this.current_index!==t&&(f=this.current_index<t?"forward":"backward"),this.current_index!==null&&this._triggerEvent("leaveStep",[s,this.current_index,f])===!1)?!1:(u&&u.length>0&&(!i.data("has-content")||!this.options.contentCache)?(e=i.length>0?n(i.attr("href"),this.main):null,o=n.extend(!0,{},{url:u,type:"POST",data:{step_number:t},dataType:"text",beforeSend:function(){r._loader("show")},error:function(t,i,u){r._loader("hide");n.error(u)},success:function(n){n&&n.length>0&&(i.data("has-content",!0),e.html(n));r._loader("hide");r._transitPage(t)}},this.options.ajaxSettings),n.ajax(o)):this._transitPage(t),!0)},_transitPage:function(t){var e=this,o=this.steps.eq(this.current_index),i=o.length>0?n(o.attr("href"),this.main):null,u=this.steps.eq(t),r=u.length>0?n(u.attr("href"),this.main):null,s="",f;return this.current_index!==null&&this.current_index!==t&&(s=this.current_index<t?"forward":"backward"),f="middle",t===0?f="first":t===this.steps.length-1&&(f="final"),this.options.transitionEffect=this.options.transitionEffect.toLowerCase(),this.pages.finish(),this.options.transitionEffect==="slide"?i&&i.length>0?i.slideUp("fast",this.options.transitionEasing,function(){r.slideDown(e.options.transitionSpeed,e.options.transitionEasing)}):r.slideDown(this.options.transitionSpeed,this.options.transitionEasing):this.options.transitionEffect==="fade"?i&&i.length>0?i.fadeOut("fast",this.options.transitionEasing,function(){r.fadeIn("fast",e.options.transitionEasing,function(){n(this).show()})}):r.fadeIn(this.options.transitionSpeed,this.options.transitionEasing,function(){n(this).show()}):(i&&i.length>0&&i.hide(),r.show()),this._setURLHash(u.attr("href")),this._setAnchor(t),this._setButtons(t),this._fixHeight(t),this.current_index=t,this._triggerEvent("showStep",[u,this.current_index,s,f]),!0},_setAnchor:function(n){return this.steps.eq(this.current_index).parent("li").removeClass("active"),this.options.anchorSettings.markDoneStep!==!1&&this.current_index!==null&&(this.steps.eq(this.current_index).parent("li").addClass("done"),this.options.anchorSettings.removeDoneStepOnNavigateBack!==!1&&this.steps.eq(n).parent("li").nextAll().removeClass("done")),this.steps.eq(n).parent("li").removeClass("done").addClass("active"),!0},_setButtons:function(t){return this.options.cycleSteps||(0>=t?n(".sw-btn-prev",this.main).addClass("disabled"):n(".sw-btn-prev",this.main).removeClass("disabled"),this.steps.length-1<=t?n(".sw-btn-next",this.main).addClass("disabled"):n(".sw-btn-next",this.main).removeClass("disabled")),!0},_keyNav:function(n){var t=this;switch(n.which){case 37:t._showPrevious();n.preventDefault();break;case 39:t._showNext();n.preventDefault();break;default:return}},_fixHeight:function(t){if(this.options.autoAdjustHeight){var i=this.steps.eq(t).length>0?n(this.steps.eq(t).attr("href"),this.main):null;this.container.finish().animate({minHeight:i.outerHeight()},this.options.transitionSpeed,function(){})}return!0},_triggerEvent:function(t,i){var r=n.Event(t);return(this.main.trigger(r,i),r.isDefaultPrevented())?!1:r.result},_setURLHash:function(n){this.options.showStepURLhash&&t.location.hash!==n&&(t.location.hash=n)},_loader:function(n){switch(n){case"show":this.main.addClass("sw-loading");break;case"hide":this.main.removeClass("sw-loading");break;default:this.main.toggleClass("sw-loading")}},goToStep:function(n){this._showStep(n)},theme:function(n){if(this.options.theme===n)return!1;this.main.removeClass("sw-theme-"+this.options.theme);this.options.theme=n;this.main.addClass("sw-theme-"+this.options.theme);this._triggerEvent("themeChanged",[this.options.theme])},next:function(){this._showNext()},prev:function(){this._showPrevious()},reset:function(){if(this._triggerEvent("beginReset")===!1)return!1;this.container.stop(!0);this.pages.stop(!0);this.pages.hide();this.current_index=null;this._setURLHash(this.steps.eq(this.options.selected).attr("href"));n(".sw-toolbar",this.main).remove();this.steps.removeClass();this.steps.parents("li").removeClass();this.steps.data("has-content",!1);this.init();this._triggerEvent("endReset")},stepState:function(t,i){var u=this,r;if(t=n.isArray(t)?t:[t],r=n.grep(this.steps,function(i,r){return n.inArray(r,t)!==-1}),r&&r.length>0)switch(i){case"disable":n(r).parents("li").addClass("disabled");break;case"enable":n(r).parents("li").removeClass("disabled");break;case"hide":n(r).parents("li").addClass("hidden");break;case"show":n(r).parents("li").removeClass("hidden");break;case"error-on":n(r).parents("li").addClass("danger");break;case"error-off":n(r).parents("li").removeClass("danger")}}});n.fn.smartWizard=function(t){var f=arguments,i;return t===r||typeof t=="object"?this.each(function(){n.data(this,"smartWizard")||n.data(this,"smartWizard",new u(this,t))}):typeof t=="string"&&t[0]!=="_"&&t!=="init"?(i=n.data(this[0],"smartWizard"),t==="destroy"&&n.data(this,"smartWizard",null),i instanceof u&&typeof i[t]=="function"?i[t].apply(i,Array.prototype.slice.call(f,1)):this):void 0}})(jQuery,window,document);